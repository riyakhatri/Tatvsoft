{"ast":null,"code":"var _jsxFileName = \"R:\\\\React\\\\hello-app\\\\Tatvsoft\\\\src\\\\pages\\\\user.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport useAuthContext from \"../context/auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport userService from \"../service/user.service\";\nimport { RecordsPerPage, defaultFilter } from \"../utils/constant\";\nimport { Typography, TextField, TableContainer, TableHead, TableRow, TableCell, Table } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction User() {\n  _s();\n  const [filters, setFilters] = useState(defaultFilter);\n  const [userList, setUserList] = useState({\n    pageIndex: 0,\n    pageSize: 10,\n    totalPages: 1,\n    items: [],\n    totalItems: 0\n  });\n  const [open, setOpen] = useState(false);\n  const [selectedId, setSelectedId] = useState(0);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (filters.keyword === \"\") delete filters.keyword;\n      getAllUsers({\n        ...filters\n      });\n    }, 500);\n    return () => clearTimeout(timer);\n  }, [filters]);\n  const getAllUsers = filters => {\n    userService.getAllUsers(filters).then(res => {\n      if (res) {\n        setUserList(res);\n      }\n    });\n  };\n  const columns = [{\n    id: \"firstName\",\n    label: \"First Name\",\n    minWidth: 100\n  }, {\n    id: \"lastName\",\n    label: \"Last Name\",\n    minWidth: 100\n  }, {\n    id: \"email\",\n    label: \"Email\",\n    minWidth: 170\n  }, {\n    id: \"roleName\",\n    label: \"Role\",\n    minWidth: 130\n  }];\n  const onConfirmDelete = () => {\n    userService.deleteUser(selectedId).then(res => {\n      if (res) {\n        toast.success(\"User delete sucessfully\");\n        setOpen(false);\n        setFilters({\n          ...filters,\n          pageIndex: 1\n        });\n      }\n    }).catch(e => toast.error(\"Fail to delete User\"));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"productWrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        align: \"center\",\n        style: {\n          marginBottom: 25,\n          marginTop: 50\n        },\n        children: \"User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            background: \"red\",\n            color: \"red\",\n            borderColor: \"red\",\n            height: \"4px\",\n            marginInline: \"30px\",\n            width: \"200px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"products\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn-wrapper\",\n          style: {\n            marginInlineEnd: \"auto\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            id: \"text\",\n            name: \"text\",\n            placeholder: \"Search...\",\n            variant: \"outlined\",\n            inputProps: {\n              className: \"small\"\n            },\n            onChange: e => {\n              setFilters({\n                ...filters,\n                keyword: e.target.value,\n                pageIndex: 1\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              sx: {\n                minWidth: 650\n              },\n              \"aria-label\": \"simple table\",\n              children: /*#__PURE__*/_jsxDEV(TableHead, {\n                children: /*#__PURE__*/_jsxDEV(TableRow, {\n                  children: columns.map(column => {\n                    /*#__PURE__*/_jsxDEV(TableCell, {\n                      style: {\n                        minWidth: column.minWidth,\n                        fontWeight: \"bold\",\n                        fontSize: 18\n                      },\n                      children: column.label\n                    }, column.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 29\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 8\n  }, this);\n}\n_s(User, \"x2YcXXOsw8vtfVAfLlgih4CyN4w=\", false, function () {\n  return [useNavigate];\n});\n_c = User;\nexport default User;\nvar _c;\n$RefreshReg$(_c, \"User\");","map":{"version":3,"names":["React","useState","useEffect","useAuthContext","useNavigate","toast","userService","RecordsPerPage","defaultFilter","Typography","TextField","TableContainer","TableHead","TableRow","TableCell","Table","jsxDEV","_jsxDEV","User","_s","filters","setFilters","userList","setUserList","pageIndex","pageSize","totalPages","items","totalItems","open","setOpen","selectedId","setSelectedId","navigate","timer","setTimeout","keyword","getAllUsers","clearTimeout","then","res","columns","id","label","minWidth","onConfirmDelete","deleteUser","success","catch","e","error","className","children","align","style","marginBottom","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","background","color","borderColor","height","marginInline","width","marginInlineEnd","name","placeholder","variant","inputProps","onChange","target","value","sx","map","column","fontWeight","fontSize","_c","$RefreshReg$"],"sources":["R:/React/hello-app/Tatvsoft/src/pages/user.jsx"],"sourcesContent":["import React, { useState,useEffect } from \"react\";\r\nimport useAuthContext from \"../context/auth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport userService from \"../service/user.service\";\r\nimport { RecordsPerPage, defaultFilter } from \"../utils/constant\";\r\nimport { Typography, TextField, TableContainer, TableHead, TableRow, TableCell ,Table} from \"@mui/material\";\r\n\r\nfunction User(){\r\n    const [filters,setFilters]=useState(defaultFilter);\r\n    const[userList,setUserList]=useState({\r\n        pageIndex: 0,\r\n        pageSize: 10,\r\n        totalPages: 1,\r\n        items: [],\r\n        totalItems: 0,\r\n    });\r\n    const [open, setOpen] = useState(false);\r\n    const [selectedId, setSelectedId] = useState(0);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n          if (filters.keyword === \"\") delete filters.keyword;\r\n          getAllUsers({ ...filters });\r\n        }, 500);\r\n        return () => clearTimeout(timer);\r\n      }, [filters]);\r\n      const getAllUsers = (filters) => {\r\n        userService.getAllUsers(filters).then((res) => {\r\n          if(res){\r\n            setUserList(res);\r\n          }\r\n        });\r\n      };\r\n      const columns = [\r\n        { id: \"firstName\", label: \"First Name\", minWidth: 100 },\r\n        { id: \"lastName\", label: \"Last Name\", minWidth: 100 },\r\n        { id: \"email\", label: \"Email\", minWidth: 170 },\r\n        { id: \"roleName\", label: \"Role\", minWidth: 130 },\r\n      ];\r\n      const onConfirmDelete = () => {\r\n        userService\r\n          .deleteUser(selectedId)\r\n          .then((res) => {\r\nif(res){toast.success(\"User delete sucessfully\");\r\n            setOpen(false);\r\n            setFilters({ ...filters, pageIndex: 1 });}\r\n          })\r\n          .catch((e) => toast.error(\"Fail to delete User\"));\r\n      };\r\n    return(\r\n        \r\n       <div className=\"productWrapper\">\r\n        <div className=\"container\">\r\n          <h1 align=\"center\" style={{ marginBottom: 25, marginTop: 50 }}>\r\n            User\r\n          </h1>\r\n          <center>\r\n            <hr\r\n              style={{\r\n                background: \"red\",\r\n                color: \"red\",\r\n                borderColor: \"red\",\r\n                height: \"4px\",\r\n                marginInline: \"30px\",\r\n                width: \"200px\",\r\n              }}\r\n            />\r\n          </center>\r\n          <div className=\"products\">\r\n            <div className=\"btn-wrapper\" style={{ marginInlineEnd: \"auto\" }}>\r\n              <TextField\r\n                id=\"text\"\r\n                name=\"text\"\r\n                placeholder=\"Search...\"\r\n                variant=\"outlined\"\r\n                inputProps={{ className: \"small\" }}\r\n                onChange={(e) => {\r\n                  setFilters({\r\n                    ...filters,\r\n                    keyword: e.target.value,\r\n                    pageIndex: 1,\r\n                  });\r\n                }}\r\n              />\r\n              <TableContainer>\r\n              <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        {columns.map((column)=>{\r\n                            <TableCell key={column.id}  style={{\r\n                                minWidth: column.minWidth,\r\n                                fontWeight: \"bold\",\r\n                                fontSize: 18,}}>\r\n                                {column.label}\r\n                            </TableCell>\r\n                        })}\r\n                    </TableRow>\r\n                </TableHead>\r\n              </Table>\r\n\r\n              </TableContainer>\r\n              \r\n            </div>\r\n          \r\n\r\n          \r\n          </div>\r\n        </div>\r\n      </div>\r\n    \r\n    );\r\n}\r\nexport default User;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}