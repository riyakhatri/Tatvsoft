{"ast":null,"code":"import { Role } from \"./enum\";\nimport cartService from \"../service/cart.service\";\nimport { toast } from \"react-toastify\";\nconst LocalStorageKeys = {\n  USER: \"user\"\n};\nconst addToCart = async (book, id) => {\n  return cartService.add({\n    userId: id,\n    bookId: book.id,\n    quantity: 1\n  }).then(res => {\n    return {\n      error: false,\n      message: \"Item added in cart\"\n    };\n  }).catch(e => {\n    toast.error(e);\n    // if (e.status === 500)\n    //   return { error: true, message: \"Item already in the cart\" };\n    // else return { error: true, message: \"something went wrong\" };\n  });\n};\n\nconst NavigationItems = [{\n  name: \"Users\",\n  route: '/user',\n  access: [Role.Admin, Role.Buyer, Role.Seller]\n}, {\n  name: \"Categories\",\n  route: '/categories',\n  access: [Role.Admin, Role.Buyer, Role.Seller]\n}, {\n  name: \"Books\",\n  route: '/book',\n  access: [Role.Admin, Role.Buyer, Role.Seller]\n}, {\n  name: \"Update Profile\",\n  route: '/updateProfile',\n  access: [Role.Admin, Role.Buyer, Role.Seller]\n}];\nconst hasAccess = (pathname, user) => {\n  const navItem = NavigationItems.find(navItem => pathname.includes(navItem.route));\n  if (navItem) {\n    return !navItem.access || !!(navItem.access && navItem.access.includes(user.RoleId));\n  }\n  return true;\n};\nexport default {\n  hasAccess,\n  NavigationItems,\n  LocalStorageKeys,\n  addToCart\n};","map":{"version":3,"names":["Role","cartService","toast","LocalStorageKeys","USER","addToCart","book","id","add","userId","bookId","quantity","then","res","error","message","catch","e","NavigationItems","name","route","access","Admin","Buyer","Seller","hasAccess","pathname","user","navItem","find","includes","RoleId"],"sources":["R:/React/hello-app/Tatvsoft/src/utils/shared.js"],"sourcesContent":["import { Role } from \"./enum\";\r\nimport cartService from \"../service/cart.service\";\r\nimport { toast } from \"react-toastify\";\r\nconst LocalStorageKeys={\r\n    USER:\"user\",\r\n};\r\nconst addToCart = async (book, id) => {\r\n    return cartService\r\n      .add({\r\n        userId: id,\r\n        bookId: book.id,\r\n        quantity: 1,\r\n      })\r\n      .then((res) => {\r\n        return { error: false, message: \"Item added in cart\" };\r\n      })\r\n      .catch((e) => {\r\n        toast.error(e);\r\n        // if (e.status === 500)\r\n        //   return { error: true, message: \"Item already in the cart\" };\r\n        // else return { error: true, message: \"something went wrong\" };\r\n      });\r\n  };\r\nconst NavigationItems=[\r\n    {\r\n        name:\"Users\",\r\n        route:'/user',\r\n        access:[Role.Admin,Role.Buyer,Role.Seller],\r\n    },\r\n    {\r\n        name:\"Categories\",\r\n        route:'/categories',\r\n        access:[Role.Admin,Role.Buyer,Role.Seller],\r\n    },\r\n    {\r\n        name:\"Books\",\r\n        route:'/book',\r\n        access:[Role.Admin,Role.Buyer,Role.Seller],\r\n    },\r\n    {\r\n        name:\"Update Profile\",\r\n        route:'/updateProfile',\r\n        access:[Role.Admin,Role.Buyer,Role.Seller],\r\n    },\r\n];\r\nconst hasAccess=(pathname,user)=>{\r\n    const navItem=NavigationItems.find((navItem)=>pathname.includes(navItem.route));\r\n    if(navItem){\r\n        return(\r\n            !navItem.access || !!(navItem.access && navItem.access.includes(user.RoleId))\r\n\r\n        );\r\n    }\r\n    return true;\r\n};\r\n\r\nexport default{\r\n    hasAccess,\r\n    NavigationItems,\r\n    LocalStorageKeys,\r\n    addToCart\r\n};"],"mappings":"AAAA,SAASA,IAAI,QAAQ,QAAQ;AAC7B,OAAOC,WAAW,MAAM,yBAAyB;AACjD,SAASC,KAAK,QAAQ,gBAAgB;AACtC,MAAMC,gBAAgB,GAAC;EACnBC,IAAI,EAAC;AACT,CAAC;AACD,MAAMC,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,OAAON,WAAW,CACfO,GAAG,CAAC;IACHC,MAAM,EAAEF,EAAE;IACVG,MAAM,EAAEJ,IAAI,CAACC,EAAE;IACfI,QAAQ,EAAE;EACZ,CAAC,CAAC,CACDC,IAAI,CAAEC,GAAG,IAAK;IACb,OAAO;MAAEC,KAAK,EAAE,KAAK;MAAEC,OAAO,EAAE;IAAqB,CAAC;EACxD,CAAC,CAAC,CACDC,KAAK,CAAEC,CAAC,IAAK;IACZf,KAAK,CAACY,KAAK,CAACG,CAAC,CAAC;IACd;IACA;IACA;EACF,CAAC,CAAC;AACN,CAAC;;AACH,MAAMC,eAAe,GAAC,CAClB;EACIC,IAAI,EAAC,OAAO;EACZC,KAAK,EAAC,OAAO;EACbC,MAAM,EAAC,CAACrB,IAAI,CAACsB,KAAK,EAACtB,IAAI,CAACuB,KAAK,EAACvB,IAAI,CAACwB,MAAM;AAC7C,CAAC,EACD;EACIL,IAAI,EAAC,YAAY;EACjBC,KAAK,EAAC,aAAa;EACnBC,MAAM,EAAC,CAACrB,IAAI,CAACsB,KAAK,EAACtB,IAAI,CAACuB,KAAK,EAACvB,IAAI,CAACwB,MAAM;AAC7C,CAAC,EACD;EACIL,IAAI,EAAC,OAAO;EACZC,KAAK,EAAC,OAAO;EACbC,MAAM,EAAC,CAACrB,IAAI,CAACsB,KAAK,EAACtB,IAAI,CAACuB,KAAK,EAACvB,IAAI,CAACwB,MAAM;AAC7C,CAAC,EACD;EACIL,IAAI,EAAC,gBAAgB;EACrBC,KAAK,EAAC,gBAAgB;EACtBC,MAAM,EAAC,CAACrB,IAAI,CAACsB,KAAK,EAACtB,IAAI,CAACuB,KAAK,EAACvB,IAAI,CAACwB,MAAM;AAC7C,CAAC,CACJ;AACD,MAAMC,SAAS,GAACA,CAACC,QAAQ,EAACC,IAAI,KAAG;EAC7B,MAAMC,OAAO,GAACV,eAAe,CAACW,IAAI,CAAED,OAAO,IAAGF,QAAQ,CAACI,QAAQ,CAACF,OAAO,CAACR,KAAK,CAAC,CAAC;EAC/E,IAAGQ,OAAO,EAAC;IACP,OACI,CAACA,OAAO,CAACP,MAAM,IAAI,CAAC,EAAEO,OAAO,CAACP,MAAM,IAAIO,OAAO,CAACP,MAAM,CAACS,QAAQ,CAACH,IAAI,CAACI,MAAM,CAAC,CAAC;EAGrF;EACA,OAAO,IAAI;AACf,CAAC;AAED,eAAc;EACVN,SAAS;EACTP,eAAe;EACff,gBAAgB;EAChBE;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}